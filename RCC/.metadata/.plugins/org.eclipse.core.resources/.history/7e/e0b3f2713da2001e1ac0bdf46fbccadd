/*
************************************************************************************************************************************
*****************************   author: Ahmed Dewidar

*****************************   Date: 08/10/2023

*****************************   Module: RCC

*****************************   Layer: Mcal

************************************************************************************************************************************
*/

/*****************************************************************************************************************************************
***************************************************************guard the file not to be included one time in file .c*********************************************************
*****************************************************************************************************************************************/
#ifndef RCC_H_
#define RCC_H_

/*****************************************************************************************************************************************
***************************************************************bus configurations**************************************************************
*****************************************************************************************************************************************/
/*copy_u8BusId*/
#define RCC_AHB                               0
#define RCC_APB1                              1
#define RCC_APB2                              2
/*****************************************************************************************************************************************
***************************************************************perephirals IDs**************************************************************
*****************************************************************************************************************************************/
/*copy_u8perId->AHB*/
#define RCC_DMA1                              0
#define RCC_DMA2                              1
#define RCC_SRAM                              2
#define RCC_FLITFEN                           4
#define RCC_CRCEN                             6
#define RCC_FSMCEN                            8
#define RCC_SDIOEN                            10

/*copy_u8perId->APB2*/
#define RCC_AFIOEN                            0
#define RCC_IOPAEN                            1
#define RCC_IOPBEN                            3
#define RCC_IOPCEN                            4
#define RCC_IOPDEN                            5
#define RCC_IOPEEN                            6
#define RCC_IOPFEN                            7
#define RCC_IOPGEN                            8
#define RCC_ADC1EN                            9
#define RCC_ADC2EN                            10
#define RCC_TIM1EN                            11
#define RCC_SPI1EN                            12
#define RCC_TIM8EN                            13
#define RCC_USART1EN                          14
#define RCC_ADC3EN                            15
#define RCC_TIM9EN                            19
#define RCC_TIM10EN                           20
#define RCC_TIM11EN                           21

/*copy_u8perId->APB1*/
#define RCC_TIM2EN                            0
#define RCC_TIM3EN                            1
#define RCC_TIM4EN                            2
#define RCC_TIM5EN                            3
#define RCC_TIM6EN                            4
#define RCC_TIM7EN                            5
#define RCC_TIM12EN                           6
#define RCC_TIM13EN                           7
#define RCC_TIM14EN                           8
#define RCC_WWDGEN                            11
#define RCC_SPI2EN                            14
#define RCC_SPI3EN                            15
#define RCC_USART2EN                          17
#define RCC_USART3EN                          18
#define RCC_UART4EN                           19
#define RCC_UART5EN                           20
#define RCC_I2C1EN                            21
#define RCC_I2C2EN                            22
#define RCC_USBEN                             23
#define RCC_CANEN                             25
#define RCC_BKPEN                             27
#define RCC_PWREN                             28
#define RCC_DACEN                             29

/*****************************************************************************************************************************************
***************************************************************RCC control register configurations**************************************************************
*****************************************************************************************************************************************/

/*enable the clock bits*/
typedef enum
{
	HSI_OFF,
	HSI_on
};
typedef enum
{
	HSE_OFF,
	HSE_on
};
typedef enum
{
	PLL_OFF,
	PLL_on
};

/*read the clock availability*/
typedef enum
{
	HSI_NRDY,
	HSI_RDY
};
typedef enum
{
	HSE_NRDY,
	HSE_RDY
};
typedef enum
{
	PLL_NRDY,
	PLL_RDY
};
typedef enum
{
	CLKSEC_OFF,
	CLKSEC_ON
};

/*****************************************************************************************************************************************
***************************************************************RCC configure register configurations**************************************************************
*****************************************************************************************************************************************/
typedef enum //MCO
{
	NO_CLK,
	HSI_CLK = 4,
	HSE_CLK = 5,
	PLL_CLK = 6
}CLK_t;
typedef enum //USBPRE (PLL)
{
	DIV_ONEHALF,
	NODIV
}USP_t;
typedef enum //PLLMUL
{
	PLLMUL_0,
	PLLMUL_1,
	PLLMUL_2,
	PLLMUL_3,
	PLLMUL_4,
	PLLMUL_5,
	PLLMUL_6,
	PLLMUL_7,
	PLLMUL_8,
	PLLMUL_9,
	PLLMUL_10,
	PLLMUL_11,
	PLLMUL_12,
	PLLMUL_13,
	PLLMUL_14,
	PLLMUL_15,
}PLLMUL_t;
typedef enum //PLLXTPRE
{
	HSE_NODIV,
	HSE_DIVBY_2
}PLLXTPRE_t;
typedef enum //PLLSRC
{
	PLLSRC_HSI,
	PLLSRC_HSE
}PLLSRC_t;
typedef enum //ADCPRE
{
	PCLK2_2,
	PCLK2_4,
	PCLK2_6,
	PCLK2_8
}ADCPRE_t;
typedef enum //PPRE2(APB2)
{
	NO_CLK,
	HCLK_2 = 4,
	HCLK_4 = 5,
	HCLK_8 = 6,
	HCLK_16 = 7
}APB2_t;
typedef enum //PPRE2(APB2)
{
	NO_CLK,
	HCLK2_2 = 4,
	HCLK2_4 = 5,
	HCLK2_8 = 6,
	HCLK2_16 = 7
}APB2_t;
typedef enum //PPRE1(APB1)
{
	NO_CLK,
	HCLK1_2 = 4,
	HCLK1_4 = 5,
	HCLK1_8 = 6,
	HCLK1_16 = 7
}APB1_t;
typedef enum //HPRE(AHB)
{
	NO_CLK,
	SYSCLK_2 = 8,
	SYSCLK_4 = 9,
	SYSCLK_8 = 10,
	SYSCLK_16 = 11,
	SYSCLK_64 = 12,
	SYSCLK_128 = 13,
	SYSCLK_256 = 14,
	SYSCLK_512 = 15
}SYSCLK_t;
typedef enum //SWS(SYSCLK STATUS)
{
	SWS_HSI,
	SWS_HSE,
	SWS_PLL,
	NOT_APPLICABLE
}APB1_t;
typedef enum //SW(SYSCLK SWTCH)
{
	SW_HSI,
	SW_HSE,
	SW_PLL,
	NOT_ALLOWED
}APB1_t;
/*****************************************************************************************************************************************
***************************************************************functions prototype**************************************************************
*****************************************************************************************************************************************/
void RCC_voidInitSysClock(void);
u8 RCC_u8EnablePerClock(u8 copy_u8BusId,u8 copy_u8perId);
u8 RCC_u8DisablePerClock(u8 copy_u8BusId,u8 copy_u8perId);

#endif /* RCC_H_ */
